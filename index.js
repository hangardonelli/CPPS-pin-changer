
import chalk from 'chalk';
import fs from 'fs';

function parseArguments(){
    log(chalk.hex('#63c1f2').bold('XCP PIN CHANGER SCRIPT, LAU - 2022'));

    if(process.argv.length < 3){
        error('Se necesita 1 argumento como minimo');
        showoOpcionesDisponibles();
        process.exit();
    }
    if(!(process.argv[2].toLowerCase() == '-r' || process.argv[2].toLowerCase() == '-m')){
        error('No se estableció la operación a realizar');
        error("No se reconoce el argumento " + process.argv[2]);
        showoOpcionesDisponibles();
        process.exit();
    }

    switch(process.argv[2].toLowerCase()){
        case "-r":
            info("handling eliminar ");
            break;
        case "-m":
            info("Cambiar pin");
            
            handleAddPin();
            break;
        default:
            error("No se reconoce el argumento ingresado");
            process.exit();
    }

}

const log = console.log;


function error(message){
    log(chalk.hex('#f01a1a').bold('[ERROR] ' + message));
}

function info(message){
    log(chalk.hex('#6e6db0').bold('[INFO] ' + message));
}



function showoOpcionesDisponibles(){
    info('Opciones disponibles:');
    info('-M pin_id room_id coord_x coord_y (meter pin en una sala)');
    info('-R room_id  (Elimina el pin de una sala)');
    return;
}

function handleAddPin(){

    let room_id = process.argv[3];
    let pin_id = process.argv[4];
    let x = process.argv[5];
    let y = process.argv[6];

    if(room_id == undefined){
        error("No se ha indicado el id de la sala")
        process.exit();
    }

    if(pin_id == undefined){
        error("No se ha indicado el id del pin");
        process.exit();
    }
    if(x == undefined){
        error("No se ha indicado la posición horizontal (X) del pin")
        process.exit();
    }
    if(y == undefined){
        error("No se ha indicado la posición vertical (Y) del pin")
        process.exit();
    }


    
    let rawdata = `{"100":{"room_id":100,"room_key":"town","name":"Centro","display_name":"Town Center","music_id":1160,"is_member":0,"path":"town.swf","max_users":120,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Centro"},"110":{"room_id":110,"room_key":"coffee","name":"Cafetería","display_name":"Coffee Shop","music_id":1163,"is_member":0,"path":"coffee.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Cafetería"},"111":{"room_id":111,"room_key":"book","name":"Biblioteca","display_name":"Mancala","music_id":669,"is_member":0,"path":"book.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Sala diario"},"120":{"room_id":120,"room_key":"dance","name":"Disco","display_name":"Night Club","music_id":1165,"is_member":0,"path":"dance.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Disco"},"121":{"room_id":121,"room_key":"lounge","name":"Living","display_name":"Lounge","music_id":674,"is_member":0,"path":"lounge.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Videojuegos"},"122":{"room_id":122,"room_key":"school","name":"Eco","display_name":"school","music_id":436,"is_member":0,"path":"school.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Reciclaje "},"130":{"room_id":130,"room_key":"shop","name":"Tienda de regalos","display_name":"Clothes Shop","music_id":1173,"is_member":0,"path":"shop.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Regalos"},"200":{"room_id":200,"room_key":"village","name":"Centro de esquí","display_name":"Ski Village","music_id":1174,"is_member":0,"path":"village.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Esquí"},"210":{"room_id":210,"room_key":"","name":"Tienda de deportes","display_name":"Sports Shop","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Deportes"},"212":{"room_id":212,"room_key":"agentlobbymulti","name":"Solo EPF","display_name":"Agent Lobby Multi","music_id":1167,"is_member":0,"path":"agentlobbymulti.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"220":{"room_id":220,"room_key":"lodge","name":"Refugio","display_name":"Find Four (Lodge)","music_id":589,"is_member":0,"path":"lodge.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Refugio"},"221":{"room_id":221,"room_key":"attic","name":"Ático del Refugio","display_name":"Find Four (Attic)","music_id":884,"is_member":0,"path":"attic.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Ático"},"230":{"room_id":230,"room_key":"mtn","name":"Montaña","display_name":"Ski Hill","music_id":1174,"is_member":0,"path":"mtn.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Montaña"},"300":{"room_id":300,"room_key":"plaza","name":"Plaza","display_name":"The Plaza","music_id":1170,"is_member":0,"path":"plaza.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Plaza"},"310":{"room_id":310,"room_key":"pet","name":"Tienda de mascotas","display_name":"Pet Shop","music_id":659,"is_member":0,"path":"pet.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Mascotas"},"320":{"room_id":320,"room_key":"dojo","name":"Dojo","display_name":"The Dojo","music_id":403,"is_member":0,"path":"dojo.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Dojo"},"321":{"room_id":321,"room_key":"dojoext","name":"Patio del Dojo","display_name":"Dojo Exterior","music_id":1166,"is_member":0,"path":"dojoext.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Patio Dojo"},"323":{"room_id":323,"room_key":"agentcom","name":"Sala de Comando","display_name":"Agent Command","music_id":642,"is_member":0,"path":"agentcom.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"324":{"room_id":324,"room_key":"dojoextsolo","name":"Patio Dojo","display_name":"Dojo Exterior Solo","music_id":404,"is_member":0,"path":"dojoextsolo.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"326":{"room_id":326,"room_key":"dojosnow","name":"Dojo Nieve","display_name":"CJ Snow Dojo","music_id":407,"is_member":0,"path":"dojosnow.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Dojo de Nieve"},"330":{"room_id":330,"room_key":"pizza","name":"Pizzería","display_name":"Pizza Parlor","music_id":676,"is_member":0,"path":"pizza.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Pizzería"},"340":{"room_id":340,"room_key":"mall","name":"El Centro Comercial","display_name":"The Mall","music_id":749,"is_member":0,"path":"mall.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"El Centro Comercial"},"400":{"room_id":400,"room_key":"beach","name":"Playa","display_name":"The Beach","music_id":582,"is_member":0,"path":"beach.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Playa"},"410":{"room_id":410,"room_key":"light","name":"Faro","display_name":"Lighthouse","music_id":588,"is_member":0,"path":"light.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Faro"},"411":{"room_id":411,"room_key":"beacon","name":"Mirador","display_name":"Beacon","music_id":583,"is_member":0,"path":"beacon.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Mirador"},"420":{"room_id":420,"room_key":"ship","name":"Barco pirata","display_name":"Pirate Ship","music_id":380,"is_member":0,"path":"ship.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Migrator"},"421":{"room_id":421,"room_key":"shiphold","name":"Bodega del barco","display_name":"Ship's Hold","music_id":491,"is_member":0,"path":"shiphold.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Bodega"},"422":{"room_id":422,"room_key":"shipquarters","name":"Camarote del Capitán","display_name":"Treasure Hunt","music_id":491,"is_member":0,"path":"shipquarters.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Camarote"},"423":{"room_id":423,"room_key":"shipnest","name":"Nido de cuervos","display_name":"The Crows Nest","music_id":492,"is_member":0,"path":"shipnest.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Nido"},"430":{"room_id":430,"room_key":"hotellobby","name":"Lobby del Hotel para puffles","display_name":"Puffle Hotel Lobby","music_id":362,"is_member":0,"path":"hotellobby.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Lobby Hotel"},"431":{"room_id":431,"room_key":"hotelspa","name":"Spa del Hotel para puffles","display_name":"Puffle Hotel Spa","music_id":361,"is_member":0,"path":"hotelspa.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Spa Hotel"},"432":{"room_id":432,"room_key":"hotelroof","name":"Tejado Hotel puffles","display_name":"Puffle Hotel Roof","music_id":360,"is_member":0,"path":"hotelroof.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Tejado"},"433":{"room_id":433,"room_key":"cloudforest","name":"Bosque de nubes","display_name":"Cloud Forest","music_id":363,"is_member":1,"path":"cloudforest.swf","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Bosque de nubes"},"434":{"room_id":434,"room_key":"park","name":"Parque pufflístico","display_name":"Puffle Park","music_id":658,"is_member":0,"path":"park.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Parque pufflístico"},"435":{"room_id":435,"room_key":"skatepark","name":"Skatepark","display_name":"Skatepark","music_id":754,"is_member":0,"path":"skatepark.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Skatepark"},"436":{"room_id":436,"room_key":"pufflewild","name":"Puffle Wild","display_name":"Puffle Wild","music_id":897,"is_member":0,"path":"pufflewild.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Puffle Wild"},"437":{"room_id":437,"room_key":"ufo","name":"OVNI","display_name":"UFO","music_id":1063,"is_member":0,"path":"ufo.swf","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"OVNI"},"800":{"room_id":800,"room_key":"dock","name":"Muelle","display_name":"The Dock","music_id":1162,"is_member":0,"path":"dock.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Muelle"},"801":{"room_id":801,"room_key":"forts","name":"Fuerte nevado","display_name":"Snow Forts","music_id":1169,"is_member":0,"path":"forts.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Fuerte nevado"},"802":{"room_id":802,"room_key":"rink","name":"Pista de patinaje","display_name":"Ice Rink","music_id":1171,"is_member":0,"path":"rink.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Estadio"},"803":{"room_id":803,"room_key":"agent","name":"Oficina Central","display_name":"HQ","music_id":7,"is_member":0,"path":"agent.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"OC"},"804":{"room_id":804,"room_key":"boiler","name":"Sala de calderas","display_name":"Boiler Room","music_id":667,"is_member":0,"path":"boiler.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Calderas"},"805":{"room_id":805,"room_key":"berg","name":"Iceberg","display_name":"Ice Berg","music_id":584,"is_member":0,"path":"berg.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Iceberg"},"806":{"room_id":806,"room_key":"cave","name":"Piscina subterránea","display_name":"Underground Pool","music_id":670,"is_member":0,"path":"cave.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Piscina"},"807":{"room_id":807,"room_key":"shack","name":"Cabaña de la Mina","display_name":"Mine Shack","music_id":1172,"is_member":0,"path":"shack.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Cabaña"},"808":{"room_id":808,"room_key":"mine","name":"Mina","display_name":"The Mine","music_id":675,"is_member":0,"path":"mine.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Mina"},"809":{"room_id":809,"room_key":"forest","name":"Bosque","display_name":"Forest","music_id":1168,"is_member":0,"path":"forest.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Bosque"},"810":{"room_id":810,"room_key":"cove","name":"Bahía","display_name":"Cove","music_id":1164,"is_member":0,"path":"cove.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Bahía"},"811":{"room_id":811,"room_key":"boxdimension","name":"Dim. caja","display_name":"Box Dimension","music_id":372,"is_member":0,"path":"boxdimension.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"???"},"812":{"room_id":812,"room_key":"dojofire","name":"Dojo Fuego","display_name":"Dojo Fire","music_id":405,"is_member":0,"path":"dojofire.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Dojo Fuego"},"813":{"room_id":813,"room_key":"cavemine","name":"Cueva","display_name":"Gold Mine","music_id":532,"is_member":0,"path":"cavemine.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Cueva"},"814":{"room_id":814,"room_key":"lake","name":"Lago","display_name":"Lake","music_id":666,"is_member":0,"path":"lake.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Lago"},"815":{"room_id":815,"room_key":"underwater","name":"Bajo el agua","display_name":"Underwater","music_id":671,"is_member":0,"path":"underwater.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Bajo el agua"},"816":{"room_id":816,"room_key":"dojowater","name":"Dojo Agua","display_name":"Card'jitsu Water","music_id":406,"is_member":0,"path":"dojowater.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Dojo Agua"},"851":{"room_id":851,"room_key":"party1","name":"Fiesta 1","display_name":"Party1","music_id":1114,"is_member":0,"path":"party1.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Supersala"},"852":{"room_id":852,"room_key":"party2","name":"Fiesta 2","display_name":"Party2","music_id":343,"is_member":0,"path":"party2.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Seguridad"},"853":{"room_id":853,"room_key":"party3","name":"Fiesta 3","display_name":"Party3","music_id":343,"is_member":0,"path":"party3.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Pastelería "},"854":{"room_id":854,"room_key":"party4","name":"Fiesta 4","display_name":"Party4","music_id":343,"is_member":0,"path":"party4.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Cuartel Herbert"},"855":{"room_id":855,"room_key":"party5","name":"Sala monstruos","display_name":"Party5","music_id":343,"is_member":0,"path":"party5.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Sector 2"},"856":{"room_id":856,"room_key":"party6","name":"Laboratorio","display_name":"Party6","music_id":343,"is_member":0,"path":"party6.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Túnel secreto"},"857":{"room_id":857,"room_key":"party7","name":"Cámara","display_name":"Party7","music_id":899,"is_member":0,"path":"party7.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Cuarto secreto\\r\\n"},"858":{"room_id":858,"room_key":"party8","name":"Triceralandia","display_name":"Party8","music_id":339,"is_member":0,"path":"party8.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"Túnel"},"859":{"room_id":859,"room_key":"party9","name":"Tiranolandia","display_name":"Party9","music_id":338,"is_member":0,"path":"party9.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":"\\r\\nLaboratorio fantasmal"},"860":{"room_id":860,"room_key":"party10","name":"Zona caza","display_name":"Party10","music_id":302,"is_member":0,"path":"party10.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"861":{"room_id":861,"room_key":"party11","name":"Pterodalandia","display_name":"Party11","music_id":306,"is_member":1,"path":"party11.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"862":{"room_id":862,"room_key":"party12","name":"Hielo miedo","display_name":"Party12","music_id":0,"is_member":1,"path":"party12.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"863":{"room_id":863,"room_key":"party13","name":"##Party13##","display_name":"Party13","music_id":305,"is_member":1,"path":"party13.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"864":{"room_id":864,"room_key":"party14","name":"##Party14##","display_name":"Party14","music_id":286,"is_member":1,"path":"party14.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"865":{"room_id":865,"room_key":"party15","name":"##Party15##","display_name":"Party15","music_id":286,"is_member":1,"path":"party15.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"866":{"room_id":866,"room_key":"party16","name":"##Party16##","display_name":"Party16","music_id":287,"is_member":1,"path":"party16.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"867":{"room_id":867,"room_key":"party17","name":"##Party17##","display_name":"Party17","music_id":288,"is_member":1,"path":"party17.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"868":{"room_id":868,"room_key":"party18","name":"##Party18##","display_name":"Party18","music_id":265,"is_member":1,"path":"party18.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"869":{"room_id":869,"room_key":"party19","name":"##Party19##","display_name":"party19","music_id":1095,"is_member":0,"path":"party19.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"874":{"room_id":874,"room_key":"party24","name":"##Party24##","display_name":"Party24","music_id":0,"is_member":0,"path":"party24.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"875":{"room_id":875,"room_key":"party25","name":"##Party25##","display_name":"Party25","music_id":0,"is_member":0,"path":"party25.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"876":{"room_id":876,"room_key":"party26","name":"##Party26##","display_name":"Party26","music_id":0,"is_member":0,"path":"party26.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"877":{"room_id":877,"room_key":"party27","name":"##Party27##","display_name":"Party27","music_id":0,"is_member":0,"path":"party27.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"878":{"room_id":878,"room_key":"party28","name":"##Party28##","display_name":"Party28","music_id":0,"is_member":0,"path":"party28.swf","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"890":{"room_id":890,"room_key":"party99","name":"##Party99##","display_name":"Party99","music_id":0,"is_member":0,"path":"party99.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"891":{"room_id":891,"room_key":"partysolo1","name":"##partysolo1##","display_name":"partysolo1","music_id":1061,"is_member":0,"path":"partysolo1.swf","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"##partysolo1##"},"898":{"room_id":898,"room_key":"soundroom","name":"##Sound Room##","display_name":"Sound Room","music_id":0,"is_member":0,"path":"soundroom.swf","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"##Sound Room##"},"899":{"room_id":899,"room_key":"party","name":"Fiesta","display_name":"Party","music_id":267,"is_member":0,"path":"party.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"900":{"room_id":900,"room_key":"","name":"Barra espacial","display_name":"Astro Barrier","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Barra espacial"},"901":{"room_id":901,"room_key":"","name":"Granos de café","display_name":"Bean Counters","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Atrapabolsas"},"902":{"room_id":902,"room_key":"","name":"puffle","display_name":"Puffle Roundup","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Fuga puffles"},"903":{"room_id":903,"room_key":"","name":"Saltos agua","display_name":"Hydro Hopper","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Saltos agua"},"904":{"room_id":904,"room_key":"","name":"Pez","display_name":"Ice Fishing","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Pesca hielo"},"905":{"room_id":905,"room_key":"","name":"CarroMina 1","display_name":"Cart Surfer","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Carrito surf"},"906":{"room_id":906,"room_key":"","name":"Propulsor","display_name":"Jetpack Adventure","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Jet-pack"},"907":{"room_id":907,"room_key":"","name":"Misión 1","display_name":"Mission 1","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"908":{"room_id":908,"room_key":"","name":"Misión 2","display_name":"Mission 2","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"909":{"room_id":909,"room_key":"","name":"Hielo fino","display_name":"Thin Ice","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Hielo fino"},"910":{"room_id":910,"room_key":"","name":"PizzaTron","display_name":"Pizzatron 3000","music_id":20,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Pizzatron"},"911":{"room_id":911,"room_key":"","name":"Misión 3","display_name":"Mission 3","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"912":{"room_id":912,"room_key":"","name":"Surf","display_name":"Catchin' Waves","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Surf"},"913":{"room_id":913,"room_key":"","name":"Misión 4","display_name":"Mission 4","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"914":{"room_id":914,"room_key":"","name":"Misión 5","display_name":"Mission 5","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"915":{"room_id":915,"room_key":"","name":"Misión 6","display_name":"Mission 6","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"916":{"room_id":916,"room_key":"","name":"Submarino","display_name":"Aqua Grabber","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Aqua grabber"},"917":{"room_id":917,"room_key":"","name":"Juego de libro 1","display_name":"Paint By Letters: My Puffle","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"918":{"room_id":918,"room_key":"","name":"Juego de libro 2","display_name":"Paint By Letters: Burnt out Bulbs","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"919":{"room_id":919,"room_key":"","name":"Juego de libro 3","display_name":"Paint By Letters: Lime Green Dojo Clean","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"920":{"room_id":920,"room_key":"","name":"Misión 7","display_name":"Mission 7","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"921":{"room_id":921,"room_key":"","name":"Misión 8","display_name":"Mission 8","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"922":{"room_id":922,"room_key":"","name":"Misión 9","display_name":"Mission 9","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"923":{"room_id":923,"room_key":"","name":"Misión 10","display_name":"Mission 10","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"924":{"room_id":924,"room_key":"","name":"Juego 24","display_name":"Game24","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"925":{"room_id":925,"room_key":"","name":"Juego 25","display_name":"Game25","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"926":{"room_id":926,"room_key":"","name":"MixMaster","display_name":"DJ3K","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"DJ3K"},"927":{"room_id":927,"room_key":"","name":"Solo EPF","display_name":"Mission 11","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"941":{"room_id":941,"room_key":"","name":"Empapa-puffles","display_name":"Puffle Soaker","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Empapa-puffles"},"942":{"room_id":942,"room_key":"","name":"Aeropuffle","display_name":"Balloon Pop","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Aeropuffle"},"943":{"room_id":943,"room_key":"","name":"Aletiiing","display_name":"Ring the Bell","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Aletiiing"},"944":{"room_id":944,"room_key":"","name":"Alimenta puffles","display_name":"Feed a Puffle","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Lanza-puffitos"},"945":{"room_id":945,"room_key":"","name":"Tarjeta de memoria","display_name":"Memory Card","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Memo Pingüina"},"946":{"room_id":946,"room_key":"","name":"Ping-puffle","display_name":"Puffle paddle","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Ping-puffle"},"947":{"room_id":947,"room_key":"","name":"Destapapuffle","display_name":"Puffle Shuffle","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Destapapuffle"},"948":{"room_id":948,"room_key":"","name":"Vuelta del día","display_name":"Grab and Spin","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Vuelta del día"},"949":{"room_id":949,"room_key":"","name":"Rescata puffles","display_name":"Puffle Rescue","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Rescatapuffles"},"950":{"room_id":950,"room_key":"","name":"Defensor del sistema","display_name":"System Defender","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Solo EPF"},"951":{"room_id":951,"room_key":"","name":"Sensei","display_name":"Sensei","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Camino Ninja"},"952":{"room_id":952,"room_key":"","name":"Concurso de baile","display_name":"Dance Contest","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Concurso baile"},"953":{"room_id":953,"room_key":"","name":"Camino Fuego","display_name":"Fire Sensei","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Camino Fuego"},"954":{"room_id":954,"room_key":"","name":"Camino Agua","display_name":"Water Sensei","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Camino agua"},"955":{"room_id":955,"room_key":"","name":"Puffle al viento","display_name":"Puffle Launch","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Puffle al viento"},"956":{"room_id":956,"room_key":"","name":"Tuercas y tornillos","display_name":"Bits And Bolts","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Tuercas"},"957":{"room_id":957,"room_key":"","name":"Burbupuffle","display_name":"Rollerscape","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"958":{"room_id":958,"room_key":"","name":"Batalla contra Scorn","display_name":"Scorn Battle","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"959":{"room_id":959,"room_key":"","name":"Puré de frutas","display_name":"Smoothie","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Puré frutas"},"960":{"room_id":960,"room_key":"","name":"Apagón","display_name":"Ice Jam","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":""},"961":{"room_id":961,"room_key":"","name":"Búsqueda Dino-huevos","display_name":"DinoDig","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"BuscaDinos"},"962":{"room_id":962,"room_key":"partygame","name":"##Party Game##","display_name":"Party Game","music_id":0,"is_member":0,"path":"partygame.swf","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"##Party Game##"},"963":{"room_id":963,"room_key":"","name":"##Spy Drills##","display_name":"Spy Drills","music_id":0,"is_member":0,"path":"","max_users":800,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"##SpyDrills##"},"994":{"room_id":994,"room_key":"","name":"##igloo_card##","display_name":"igloo_card","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":true,"jump_disabled":false,"required_item":null,"short_name":""},"995":{"room_id":995,"room_key":"","name":"Agua","display_name":"Card'jitsu Water","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Agua"},"996":{"room_id":996,"room_key":"","name":"##Snow##","display_name":"","music_id":0,"is_member":0,"path":"","max_users":2000,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"##Snow##"},"997":{"room_id":997,"room_key":"","name":"Fuego","display_name":"Card'jitsu Fire","music_id":0,"is_member":0,"path":"","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Fuego"},"998":{"room_id":998,"room_key":"","name":"Card-jitsu","display_name":"Card Jitsu","music_id":0,"is_member":0,"path":"","max_users":0,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Card-jitsu"},"999":{"room_id":999,"room_key":"party19","name":"Carrera de trineos","display_name":"Sled Race","music_id":308,"is_member":1,"path":"party19.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Carrera trineos"},"1100":{"room_id":1100,"room_key":"","name":"Mi pingüino","display_name":"My Penguin ","music_id":0,"is_member":0,"path":"","max_users":0,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Mi pingüi"},"1104":{"room_id":1104,"room_key":"cavemine","name":"Cueva","display_name":"Gold Mine","music_id":532,"is_member":0,"path":"cavemine.swf","max_users":80,"jump_enabled":false,"jump_disabled":true,"required_item":null,"short_name":"Cueva"}}`
    let roomsObj = JSON.parse(rawdata);

    if(roomsObj[room_id] == undefined){
        error("No se encontró la sala solicitada");
        process.exit();
    }
    if(isNaN(pin_id)){
        error("El id del pin ingresado no tiene el formato correcto");
        process.exit();
    }
    if(isNaN(x)){
        error("Las coordenadas horizontales (X) no tienen el formato correcto");
        process.exit();
    }
    if(isNaN(y)){
        error("Las coordenadas verticales (Y) no tienen el formato correcto");
        process.exit();
    }
    
    

    roomsObj[room_id].pin_id = parseInt(pin_id);
    roomsObj[room_id].pin_x = parseInt(x);
    roomsObj[room_id].pin_y = parseInt(y);


    fs.writeFileSync("C:/Users/lauta/" + 'rooms.json', JSON.stringify(roomsObj));

 
    
}
parseArguments();
//"pin_id":7152,"pin_x":641,"pin_y":21